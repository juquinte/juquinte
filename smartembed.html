<!DOCTYPE html>
<html>
<body>


<h1>My First Heading</h1>
<p>My first paragraph.</p>


  <style>
      #zoom-embeddable-phone-iframe {
        height: 496px;
        width: 600px;  
      }
</style>

  
  <iframe
      src="https://go.zoom.us/crm-int/callbar/"
      sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin allow-downloads"
      allow="geolocation;autoplay;microphone;camera;display-capture;midi;encrypted-media;clipboard-write;"
      id="zoom-embeddable-phone-iframe"></iframe>
  
<script>
  
  const config = {
  type: "zcc-init-config-response",
  data: {
    screenPopEvent: "RINGING", //ANSWER,RINGING
    applicationType: "Embedded Service",
    ticketConfigs: {
      autoCreate: false,
    },
    callLogConfigs: {
      autoLog: true,
      autoUpdateCallURL: true,
    },
    searchConfigs: {
      ivrConfigs: {
        enabled: false,
        mappings: [],
      },
      phoneConfigs: [],
      noMatch: {
        operation: "SCREENPOP",
        entity: "contact",
      },
    },
  }};
  
  
  window.addEventListener('message', (e) => {
  const data = e.data;
  if (data) {
    switch (data?.type) { 
      case 'zcc-contact-search-event': // listen to all the event types that you need
        console.log(data?.data); 
        break;       
       case 'zcc-init-config-request':
        e.source.postMessage(config, e.origin);
        break;
        
        case "zcc-call-recording":
      console.log("this is call recording in main", data?.data);
      break;
    case "zcc-end-postengagment": //-end-postengagment
      console.log("This is zcc-end-postengagment Data", data?.data);
      break;
    case "zcc-add-note":
      console.log("This is zcc-add-note Data", data?.data);
      break;
    case "zcc-call-recording":
      console.log("this is call recording in main", data?.data);
      break;
    case "zcc-screen-pop":
  //    screenPop(data?.data);
      break;
    case "zcc-phone-call-log":
      console.log("This is zcc-phoneCallLog Data", data?.data);
      break;
    case "zcc-call-ringing":
      console.log("This is zcc-call-ringing Data", data?.data);
      break;
    case "zcc-call-connected":
      console.log("This is zcc-call-connected Data", data?.data);
      break;
    case "zcc-call-ended":
      console.log("This is zcc-call-ended Data", data?.data);
      break;
    case "zcc-incomingPhone-request":
      e.source.postMessage(callingDummydata(), e.origin)
      console.log("This is zcc-call-ended Data", data?.data);
      break;

    case "zcc-resize":
      const data = data?.data;

      const width = data?.widthInPixels;
      const height = data?.heightInPixels;
      resize(width, height);
      break;
    default:
      break;
    }
  }
});
  </script>
  
</body>
</html>




